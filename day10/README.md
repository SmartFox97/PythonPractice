# Day10 包、代码规范 2020.07.29

# 0x00：包

### 一、创建包

+ 什么是包

  + 包是一种管理 Python 模块命名空间的形式，采用"点模块名称"。比如一个模块的名称是 A.B， 那么他表示一个包 A中的子模块B
  + 目录中只有包含一个叫做__init__.py的文件才会被认作是一个包
  + 在导入包的时候，Python会**从`sys.path`中**的目录来寻找这个包中包含的子目录

  ![模块与包](https://oss.smartfox.cc/2020/07/29/7b229dd9e6b9a.png)

+ 创建包

  + 有 2 个模块功能有些联系，可以将其放到同一个文件夹下
  + 要组成包，还需要在该文件夹中创建`__init__.py`文件

  ![包](https://oss.smartfox.cc/2020/07/29/569bd3900d240.png)

### 二、导入包中模块

+ 使用 `import 包名.模块名` 能够导入包中的模块

+ 使用 `from 包名.模块名 import...`能够导入模块中的符号

  ![导入包](https://oss.smartfox.cc/2020/07/29/22df74b7e57a5.png)

### 三、什么是`__init__.py`

+ 目录中只有包含了叫做__init__.py的文件，才能被程序认作是包，模块才能被导入成功。

+ 包被导入时，会执行 `__init__.py`文件的内容

+ `__init__.py` 控制着包的导入行为。如果`__init__.py`文件为空的话，仅仅是把这个包导入，不会导入包中的模块。

+ 可以在`__init__.py`中编写其他内容，在导入时，这些编写的内容就会被执行。

  ![__init__](https://oss.smartfox.cc/2020/07/29/d52e6ee9b99af.png)

------

# 0x01：代码规范

### 一、PEP8 代码规范

PEP8 提供了 Python 代码的编写约定，本节知识点旨在提高代码的可读性，并使其在各种 Python 代码中编写风格保持一致。

1. 缩进使用4个空格, 空格是首选的缩进方式. Python3 不允许混合使用制表符和空格来缩进.

2. 每一行最大长度限制在79个字符以内.

3. 顶层函数、类的定义, 前后使用两个空行隔开.

4. import 导入：

   + 导入建议在不同的行, 例如:

   ```python
   import os
   import sys
   # 不建议如下导包
   import os, sys
   # 但是可以如下:
   from subprocess import Popen, PIPE
   ```

   + 导包位于文件顶部, 在模块注释、文档字符串之后, 全局变量、常量之前. 导入按照以下顺序分组:
     + 标准库导入
     + 相关第三方导入
     + 本地应用/库导入
     + 在每一组导入之间加入空行

5. Python 中定义字符串使用双引号、单引号是相同的, 尽量保持使用同一方式定义字符串. 当一个字符串包含单引号或者双引号时, 在最外层使用不同的符号来避免使用反斜杠转义, 从而提高可读性.

6. 表达式和语句中的空格:

   + 避免在小括号、方括号、花括号后跟空格.
   + 避免在逗号、分好、冒号之前添加空格.
   + 冒号在切片中就像二元运算符, 两边要有相同数量的空格. 如果某个切片参数省略, 空格也省略.
   + 避免为了和另外一个赋值语句对齐, 在赋值运算符附加多个空格.
   + 避免在表达式尾部添加空格, 因为尾部空格通常看不见, 会产生混乱.
   + 总是在二元运算符两边加一个空格, 赋值（=），增量赋值（+=，-=），比较（==,<,>,!=,<>,<=,>=,in,not,in,is,is not），布尔（and, or, not)

7. 避免将小的代码块和 if/for/while 放在同一行, 要避免代码行太长.

   ```python
   if foo == 'blah': do_blah_thing()
   for x in lst: total += x
   while t < 10: t = delay()
   ```

8. 永远不要使用字母 'l'(小写的L), 'O'(大写的O), 或者 'I'(大写的I) 作为单字符变量名. 在有些字体里, 这些字符无法和数字0和1区分, 如果想用 'l', 用 'L' 代替.

9. 类名一般使用首字母大写的约定.

10. 函数名应该小写, 如果想提高可读性可以用下划线分隔.

11. 如果函数的参数名和已有的关键词冲突, 在最后加单一下划线比缩写或随意拼写更好. 因此 class_ 比 clss 更好.(也许最好用同义词来避免这种冲突).

12. 方法名和实例变量使用下划线分割的小写单词, 以提高可读性.

### 二、官方文档

PEP8代码规范：

- 官方文档：[单击跳转](https://www.python.org/dev/peps/pep-0008/)
- 中文文档：[单击跳转](http://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/python_style_rules/)

